{"ast":null,"code":"import _classCallCheck from\"/Users/zhengxinyue/PhpstormProjects/around-web2/around-web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/zhengxinyue/PhpstormProjects/around-web2/around-web/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/zhengxinyue/PhpstormProjects/around-web2/around-web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/zhengxinyue/PhpstormProjects/around-web2/around-web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/zhengxinyue/PhpstormProjects/around-web2/around-web/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Marker,InfoWindow}from'react-google-maps';import blueMarkerUrl from\"../assets/images/blue-marker.svg\";export var AroundMarker=/*#__PURE__*/function(_React$Component){_inherits(AroundMarker,_React$Component);function AroundMarker(){var _getPrototypeOf2;var _this;_classCallCheck(this,AroundMarker);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AroundMarker)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={isOpen:false};_this.handleToggle=function(){_this.setState(function(prevState){return{isOpen:!prevState.isOpen};});};return _this;}_createClass(AroundMarker,[{key:\"render\",value:function render(){var _this$props$post=this.props.post,user=_this$props$post.user,message=_this$props$post.message,url=_this$props$post.url,location=_this$props$post.location,type=_this$props$post.type;var lat=location.lat,lon=location.lon;var isImagePost=type==='image';var customIcon=isImagePost?undefined:{url:blueMarkerUrl,scaledSize:new window.google.maps.Size(26,41)};return React.createElement(Marker,{position:{lat:lat,lng:lon},onMouseOver:isImagePost?this.handleToggle:undefined,onMouseOut:isImagePost?this.handleToggle:undefined,onClick:isImagePost?undefined:this.handleToggle,icon:customIcon},this.state.isOpen?React.createElement(InfoWindow,null,React.createElement(\"div\",null,isImagePost?React.createElement(\"img\",{src:url,alt:message,className:\"around-marker-image\"}):React.createElement(\"video\",{src:url,controls:true,className:\"around-marker-video\"}),React.createElement(\"p\",null,\"\".concat(user,\": \").concat(message)))):null);}}]);return AroundMarker;}(React.Component);","map":{"version":3,"sources":["/Users/zhengxinyue/PhpstormProjects/around-web2/around-web/src/components/AroundMarker.js"],"names":["React","Marker","InfoWindow","AroundMarker","state","isOpen","handleToggle","setState","prevState","props","post","user","message","url","location","type","lat","lon","isImagePost","customIcon","undefined","blueMarkerUrl","scaledSize","window","google","maps","Size","lng","Component"],"mappings":"+sBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,UAAjB,KAAmC,mBAAnC,C,4DAIA,UAAaC,CAAAA,YAAb,maAKIC,KALJ,CAKY,CACJC,MAAM,CAAE,KADJ,CALZ,OASIC,YATJ,CASmB,UAAM,CACjB,MAAKC,QAAL,CAAc,SAACC,SAAD,QAAgB,CAAEH,MAAM,CAAE,CAACG,SAAS,CAACH,MAArB,CAAhB,EAAd,EACH,CAXL,+EAaa,sBAC0C,KAAKI,KAAL,CAAWC,IADrD,CACGC,IADH,kBACGA,IADH,CACSC,OADT,kBACSA,OADT,CACkBC,GADlB,kBACkBA,GADlB,CACuBC,QADvB,kBACuBA,QADvB,CACiCC,IADjC,kBACiCA,IADjC,IAEGC,CAAAA,GAFH,CAEgBF,QAFhB,CAEGE,GAFH,CAEQC,GAFR,CAEgBH,QAFhB,CAEQG,GAFR,CAGL,GAAMC,CAAAA,WAAW,CAAGH,IAAI,GAAK,OAA7B,CACA,GAAMI,CAAAA,UAAU,CAAGD,WAAW,CAAGE,SAAH,CAAe,CACzCP,GAAG,CAAEQ,aADoC,CAEzCC,UAAU,CAAE,GAAIC,CAAAA,MAAM,CAACC,MAAP,CAAcC,IAAd,CAAmBC,IAAvB,CAA4B,EAA5B,CAAgC,EAAhC,CAF6B,CAA7C,CAIA,MACI,qBAAC,MAAD,EACI,QAAQ,CAAE,CAAEV,GAAG,CAAHA,GAAF,CAAOW,GAAG,CAAEV,GAAZ,CADd,CAEI,WAAW,CAAEC,WAAW,CAAG,KAAKZ,YAAR,CAAuBc,SAFnD,CAGI,UAAU,CAAEF,WAAW,CAAG,KAAKZ,YAAR,CAAuBc,SAHlD,CAII,OAAO,CAAEF,WAAW,CAAGE,SAAH,CAAc,KAAKd,YAJ3C,CAKI,IAAI,CAAEa,UALV,EAOK,KAAKf,KAAL,CAAWC,MAAX,CACG,oBAAC,UAAD,MACI,+BACKa,WAAW,CACN,2BAAK,GAAG,CAAEL,GAAV,CAAe,GAAG,CAAED,OAApB,CAA6B,SAAS,CAAC,qBAAvC,EADM,CAEN,6BAAO,GAAG,CAAEC,GAAZ,CAAiB,QAAQ,KAAzB,CAA0B,SAAS,CAAC,qBAApC,EAHV,CAII,uCAAOF,IAAP,cAAgBC,OAAhB,EAJJ,CADJ,CADH,CASG,IAhBR,CADJ,CAoBH,CAzCL,0BAAkCZ,KAAK,CAAC4B,SAAxC","sourcesContent":["import React from 'react';\nimport { Marker, InfoWindow } from 'react-google-maps';\nimport PropTypes from 'prop-types';\nimport blueMarkerUrl from '../assets/images/blue-marker.svg';\n\nexport class AroundMarker extends React.Component {\n    static propTypes = {\n        post: PropTypes.object.isRequired,\n    }\n\n    state = {\n        isOpen: false,\n    }\n\n    handleToggle = () => {\n        this.setState((prevState) => ({ isOpen: !prevState.isOpen }));\n    }\n\n    render() {\n        const { user, message, url, location, type } = this.props.post;\n        const { lat, lon } = location;\n        const isImagePost = type === 'image';\n        const customIcon = isImagePost ? undefined : {\n            url: blueMarkerUrl,\n            scaledSize: new window.google.maps.Size(26, 41),\n        };\n        return (\n            <Marker\n                position={{ lat, lng: lon }}\n                onMouseOver={isImagePost ? this.handleToggle : undefined}\n                onMouseOut={isImagePost ? this.handleToggle : undefined}\n                onClick={isImagePost ? undefined: this.handleToggle}\n                icon={customIcon}\n            >\n                {this.state.isOpen ? (\n                    <InfoWindow>\n                        <div>\n                            {isImagePost\n                                ? <img src={url} alt={message} className=\"around-marker-image\"/>\n                                : <video src={url} controls className=\"around-marker-video\"/>}\n                            <p>{`${user}: ${message}`}</p>\n                        </div>\n                    </InfoWindow>\n                ) : null}\n            </Marker>\n        );\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}